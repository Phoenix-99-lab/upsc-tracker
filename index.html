<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UPSC Elite Command Center V8</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&family=Playfair+Display:ital,wght@1,700&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #ffaa00; --cyan: #00f2ff; --bg: #050608; }
        body { background-color: var(--bg); color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 28px; }
        .glow-gold { box-shadow: 0 0 20px rgba(255, 170, 0, 0.15); }
        #timerDisplay { font-variant-numeric: tabular-nums; letter-spacing: -2px; background: linear-gradient(to bottom, #fff, #999); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .timeline-line { position: absolute; left: 20px; top: 0; bottom: 0; width: 2px; background: linear-gradient(to bottom, var(--cyan), var(--gold), transparent); }
    </style>
</head>
<body class="p-6 md:p-12 lg:p-16">

    <header class="flex justify-between items-end mb-16">
        <div>
            <h1 class="text-4xl font-extrabold tracking-tighter uppercase italic">Aman's <span class="text-[#ffaa00]">Sovereign</span></h1>
            <p class="text-sm opacity-50 font-serif italic mt-2">"Turn the heartbreak of the past into the Rank of your future."</p>
        </div>
        <div class="text-right">
            <div class="text-[10px] text-[#00f2ff] font-bold tracking-[0.3em] uppercase mb-1">Elite Status</div>
            <div class="text-2xl font-black">LBSNAA 2026</div>
        </div>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-12">
        
        <div class="lg:col-span-8 glass p-12 text-center relative overflow-hidden glow-gold">
            <div class="absolute top-8 left-10 flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-red-500 animate-pulse"></div>
                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Focus Session Active</span>
            </div>
            <div id="timerDisplay" class="text-9xl font-black my-10">00:00:00</div>
            <div class="flex flex-wrap justify-center gap-4">
                <button onclick="toggleTimer()" id="timerBtn" class="bg-white text-black px-10 py-4 rounded-full font-black uppercase text-xs tracking-widest hover:scale-105 transition">Start Mission</button>
                <button onclick="pomo50()" class="bg-[#ffaa00]/20 text-[#ffaa00] border border-[#ffaa00]/30 px-8 py-4 rounded-full font-black uppercase text-xs tracking-widest hover:bg-[#ffaa00] hover:text-black transition">50m Pomodoro</button>
                <button onclick="logWork()" class="bg-[#00f2ff]/20 text-[#00f2ff] border border-[#00f2ff]/30 px-8 py-4 rounded-full font-black uppercase text-xs tracking-widest hover:bg-[#00f2ff] hover:text-black transition">Log Grit</button>
            </div>
        </div>

        <div class="lg:col-span-4 space-y-8">
            <div class="glass p-8 text-center flex flex-col justify-center h-1/2">
                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Scholar's Chain</span>
                <div id="streakVal" class="text-7xl font-black text-[#ffaa00] my-2">0</div>
                <button onclick="forgeLink()" class="mt-4 border border-[#ffaa00]/30 py-2 rounded-xl text-[10px] font-bold text-[#ffaa00] uppercase tracking-widest">Forge Daily Link</button>
            </div>
            <div class="glass p-8 text-center flex flex-col justify-center h-1/2">
                <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Grit Score (Hrs)</span>
                <div id="gritVal" class="text-7xl font-black text-[#00f2ff] my-2">0.0</div>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
        <div class="glass p-10">
            <h3 class="text-xs font-bold text-[#ffaa00] uppercase tracking-[0.2em] mb-8">Weekly Grit Heatmap</h3>
            <canvas id="weeklyChart"></canvas>
        </div>
        <div class="glass p-10">
            <h3 class="text-xs font-bold text-[#00f2ff] uppercase tracking-[0.2em] mb-8">Syllabus Mastery Radar</h3>
            <canvas id="radarChart"></canvas>
        </div>
    </div>

    <div class="glass p-12">
        <h3 class="text-2xl font-black italic uppercase tracking-tighter text-[#ffaa00] mb-12">History Path: Plassey to Partition</h3>
        <div class="relative pl-12 space-y-16">
            <div class="timeline-line"></div>
            <div class="relative">
                <div class="absolute -left-[51px] top-1 w-3 h-3 rounded-full bg-[#00f2ff] shadow-[0_0_15px_#00f2ff]"></div>
                <h4 class="text-xl font-black">ANCIENT & MEDIEVAL INDIA</h4>
                <p class="text-sm text-gray-500 mt-1">Focus: Mauryan Bureaucracy & Mughal Administrative Reforms</p>
            </div>
            <div class="relative">
                <div class="absolute -left-[51px] top-1 w-3 h-3 rounded-full bg-[#ffaa00] shadow-[0_0_15px_#ffaa00]"></div>
                <h4 class="text-xl font-black italic">1757: THE BATTLE OF PLASSEY</h4>
                <p class="text-sm text-gray-400 mt-1">Reading: Sekhar Bandyopadhyay - The Transition to Colonialism</p>
                <div class="mt-4 grid grid-cols-3 gap-4">
                    <div class="p-3 bg-white/5 rounded-lg text-[10px] text-gray-400 font-bold uppercase">Context</div>
                    <div class="p-3 bg-white/5 rounded-lg text-[10px] text-gray-400 font-bold uppercase">Contention</div>
                    <div class="p-3 bg-white/5 rounded-lg text-[10px] text-gray-400 font-bold uppercase">Impact</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let startTime, timerInterval, elapsed = 0, running = false;
        let streak = parseInt(localStorage.getItem('v8_streak')) || 0;
        let grit = parseFloat(localStorage.getItem('v8_grit')) || 0.0;
        let gritHistory = JSON.parse(localStorage.getItem('v8_history')) || [2, 4, 1, 5, 3, 2, 0];

        function updateDisplay(ms) {
            let s = Math.floor(ms / 1000); let m = Math.floor(s / 60); let h = Math.floor(m / 60);
            document.getElementById('timerDisplay').innerText = `${String(h).padStart(2, '0')}:${String(m % 60).padStart(2, '0')}:${String(s % 60).padStart(2, '0')}`;
        }

        function toggleTimer() {
            if(!running) {
                startTime = Date.now() - elapsed;
                timerInterval = setInterval(() => { elapsed = Date.now() - startTime; updateDisplay(elapsed); }, 1000);
                document.getElementById('timerBtn').innerText = "Pause Mission"; running = true;
            } else {
                clearInterval(timerInterval); document.getElementById('timerBtn').innerText = "Resume Mission"; running = false;
            }
        }

        function pomo50() {
            elapsed = 50 * 60 * 1000; updateDisplay(elapsed);
            let target = Date.now() + elapsed;
            timerInterval = setInterval(() => {
                let rem = target - Date.now();
                if(rem <= 0) { clearInterval(timerInterval); alert("Session Complete!"); logWork(0.83); }
                else updateDisplay(rem);
            }, 1000);
        }

        function logWork(manual) {
            let hrs = manual || (elapsed / 3600000);
            grit += hrs; gritHistory[6] += hrs;
            localStorage.setItem('v8_grit', grit.toFixed(1));
            localStorage.setItem('v8_history', JSON.stringify(gritHistory));
            location.reload();
        }

        function forgeLink() {
            streak++; localStorage.setItem('v8_streak', streak); location.reload();
        }

        window.onload = () => {
            document.getElementById('streakVal').innerText = streak;
            document.getElementById('gritVal').innerText = grit.toFixed(1);

            new Chart(document.getElementById('weeklyChart'), {
                type: 'bar',
                data: { labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'], datasets: [{ data: gritHistory, backgroundColor: '#ffaa00', borderRadius: 12 }] },
                options: { scales: { y: { display: false }, x: { grid: { display: false }, ticks: { color: '#555' } } }, plugins: { legend: { display: false } } }
            });

            new Chart(document.getElementById('radarChart'), {
                type: 'radar',
                data: {
                    labels: ['GS 1', 'GS 2', 'GS 3', 'GS 4', 'Hist I', 'Hist II'],
                    datasets: [{ data: [65, 45, 35, 80, 55, 40], borderColor: '#00f2ff', backgroundColor: 'rgba(0, 242, 255, 0.05)', pointBackgroundColor: '#00f2ff' }]
                },
                options: { scales: { r: { grid: { color: '#222' }, angleLines: { display: false }, ticks: { display: false }, pointLabels: { color: '#888' } } }, plugins: { legend: { display: false } } }
            });
        };
    </script>
</body>
</html>
